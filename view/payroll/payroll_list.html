
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>工资管理</title>
  <meta name="viewport"
        content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0,user-scalable=no"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <link rel="stylesheet" type="text/css" href="../../static/lib/jedate/jeDageGray.css" />
  <link rel="stylesheet" type="text/css" href="../../static/iconfont/feicon/style.css"/>
  <link rel="stylesheet" type="text/css" href="../../static/css/public.css"/>
</head>

<body class="iframe-body">
<div class="iframe-main">
  <!--region 搜索-->
  <form class="search-content" method="post" action="./payroll_list.html">
    <div class="search-container">
      <ul class="search-left">
        <li>
          <span>审核状态</span>
          <div class="l-content rule-single-select">
            <select>
              <option value="">全部</option>
              <option value="1">待审核</option>
              <option value="2">审核驳回</option>
              <option value="3">已审核</option>
            </select>
          </div>
        </li>
        <li>
          <span>年份</span>
          <div class="l-content rule-single-select">
            <select>
              <option value="">全部</option>
              <option value="2016">2016</option>
              <option value="2017">2017</option>
              <option value="2018">2018</option>
              <option value="2019">2019</option>
            </select>
          </div>
        </li>
        <li>
          <div class="l-content input-search">
            <input type="text" placeholder="快捷搜索" style="width: 150px"/>
            <button type="submit" class="febtn-default">搜索</button>
          </div>
        </li>
      </ul>
    </div>
  </form>
  <!--endregion-->
  
  <div>
    <table class="fe-table">
      <thead>
      <tr>
        <th class="t-left">
          <label class="fe-checkbox">
            <input type="checkbox" class="check-all">
          </label>
          <a class="display-align"><span>序号</span><i class="feimg-sort-asc"></i></a>
        </th>
        <th>工资条名称</th>
        <th>年月</th>
        <th>应发金额</th>
        <th width="30%">备注</th>
        <th>审核状态</th>
        <th>发放状态</th>
        <th>录入员</th>
        <th>录入时间</th>
        <th>附件</th>
        <th>操作</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>
          <label class="fe-checkbox">
            <input type="checkbox" class="check-td" value="1">
            <font>1</font>
          </label>
        </td>
        <td>2019年11月工资条</td>
        <td>2019-11</td>
        <td>¥8200.00</td>
        <td>哈哈哈哈哈哈哈哈哈</td>
        <td>已审核</td>
        <td>已发放</td>
        <td>李小虎</td>
        <td>2019-08-09 12:12:18</td>
        <td>
          <a class="feicon-img-pic"
             onclick="parent.publicObj.imgPreview('../static/images/login/login_bg.png');event.stopPropagation()"></a>
          <a class="feicon-img-pic"
             onclick="parent.publicObj.imgPreview('../static/images/cs_img/img1.png');event.stopPropagation()"></a>
        </td>
        <td class="table-action">
          <a onclick="viewPayroll()">查看</a>
          <a onclick="viewPayrollDetail()">明细</a>
            <a onclick="modifyPayroll('edit')">编辑</a>
          <a onclick="delEmployee(1)">删除</a>
        </td>
      </tr>
      <tr>
        <td>
          <label class="fe-checkbox">
            <input type="checkbox" class="check-td" value="1">
            <font>1</font>
          </label>
        </td>
        <td>2019年11月工资条</td>
        <td>2019-11</td>
        <td>¥8200.00</td>
        <td>哈哈哈哈哈哈哈哈哈</td>
        <td><a class="color-link">待审核(1/3)</a></td>
        <td><a class="color-link">待发放</a></td>
        <td>李小虎</td>
        <td>2019-08-09 12:12:18</td>
        <td>
          <a class="feicon-img-pic"
             onclick="parent.publicObj.imgPreview('../static/images/login/login_bg.png');event.stopPropagation()"></a>
          <a class="feicon-img-pic"
             onclick="parent.publicObj.imgPreview('../static/images/cs_img/img1.png');event.stopPropagation()"></a>
        </td>
        <td class="table-action">
          <a onclick="viewPayroll()">查看</a>
          <a onclick="viewPayrollDetail()">明细</a>
            <a onclick="modifyPayroll('edit')">编辑</a>
          <a onclick="delEmployee(1)">删除</a>
        </td>
      </tr>
      <tr>
        <td>
          <label class="fe-checkbox">
            <input type="checkbox" class="check-td" value="1">
            <font>1</font>
          </label>
        </td>
        <td>2019年11月工资条</td>
        <td>2019-11</td>
        <td>¥8200.00</td>
        <td>哈哈哈哈哈哈哈哈哈</td>
        <td><a class="color-red">审核驳回</a></td>
        <td>已发放</td>
        <td>李小虎</td>
        <td>2019-08-09 12:12:18</td>
        <td>
          <a class="feicon-img-pic"
             onclick="parent.publicObj.imgPreview('../static/images/login/login_bg.png');event.stopPropagation()"></a>
          <a class="feicon-img-pic"
             onclick="parent.publicObj.imgPreview('../static/images/cs_img/img1.png');event.stopPropagation()"></a>
        </td>
        <td class="table-action">
          <a onclick="viewPayroll()">查看</a>
          <a onclick="viewPayrollDetail()">明细</a>
            <a onclick="modifyPayroll('edit')">编辑</a>
          <a onclick="delEmployee(1)">删除</a>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="table-foot">
      <div class="foot-action">
        <label class="fe-checkbox">
          <input type="checkbox" class="check-all">
        </label>
        <button type="button" class="febtn-white check-all-btn">全选</button>
        <button type="button" class="febtn-white" onclick="delEmployee(2)">删除</button>
      </div>
    </div>
  </div>
</div>
</body>
<script type="text/javascript" charset="utf-8" src="../../static/lib/jquery/jquery-3.2.1.min.js"></script>
<script type="text/javascript" charset="utf-8" src="../../static/lib/jedate/jedate.js"></script>
<script type="text/javascript" charset="utf-8" src="../../static/lib/layer/layer.js"></script>
<script type="text/javascript" charset="utf-8" src="../../static/js/publicObj.js"></script>
<script type="text/javascript">
  publicObj.getIframeMenuHtml('employeeManage', 'payroll_list')//获取左侧菜单
  
  //查看
  function viewPayroll() {
    publicObj.layerShow({title: '查看工资条信息', el: 'payroll/payroll_view.html'}, 'right')
  }
  //明细
  function viewPayrollDetail() {
    publicObj.layerShow({title: '工资明细', el: 'payroll/payroll_detail.html', area: ['80%', '95%'], offset: ['2.5%', '10%']})
  }
  
  //编辑
  function modifyPayroll(type) {
    var t = type === 'add' ? '新增' : '编辑'
    publicObj.layerShow({title: t + '工资条', el: 'payroll/payroll_edit.html', area: ['80%', '95%'], offset: ['2.5%', '10%']})
  }

  //删除 type=1:删除单个，2-批量删除
  function delEmployee (type) {
    if (type === 2 && !publicObj.getCheckBox()) return false
    var title = +type === 2 ? '确认删除这些员工吗？' : '确认要删除该员工吗？'
    publicObj.confirmDel(function (layeo) {
      publicObj.layerMsg('删除成功', 1)
      parent.layer.close(layeo)
    }, {title: title})
  }
</script>
</html>
