
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>企业管理</title>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0,user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="stylesheet" type="text/css" href="../../static/iconfont/diyicon/iconfont.css" />
  <link rel="stylesheet" type="text/css" href="../../static/css/public.css" />
  <style>
    #dl_config dt {
      width: 180px;
    }
    #dl_config dd {
      width: calc(100% - 200px);
    }
  </style>
</head>

<body class="iframe-body">
<form class="iframe-main" method="post">
  <div class="fe-tab" style="padding: 20px 0 0 20px;">
    <ul>
      <li onclick="changeTab('basic')" id="tabli-basic">基本资料</li>
      <li onclick="changeTab('config')" id="tabli-config">功能配置</li>
    </ul>
  </div>
  <div class="fe-dl-div modify-scroll" style="height: calc(100% - 120px)">
    <!--region 基本资料-->
    <div id="dl_basic">
      <dl>
        <dt><b class="color-red">*</b>公司名称:</dt>
        <dd>
          <input class="dd-content" name="company_name" type="text" placeholder="请输入公司名称" />
        </dd>
      </dl>
      <dl>
        <dt>系统名称:</dt>
        <dd>
          <input class="dd-content" type="text" placeholder="请输入系统名称" />
        </dd>
      </dl>
      <dl>
        <dt style="line-height: 104px">系统logo:</dt>
        <dd>
          <div id="company_logo">
            <div class="upload-file">
              <div class="file-div">
                <div class="file-add">点击上传</div>
                <div class="file-img">
                  <img src="../../static/images/cs_img/admin_avatar.png">
                </div>
                <input type="file" title=" " name="company_logo" onchange="uploadCompanyLogo(this)">
              </div>
              <span class="color-tip">建议上传正方形的logo(背景透明)</span>
            </div>
          </div>
        </dd>
      </dl>
      <dl>
        <dt>公司地址:</dt>
        <dd>
          <input class="dd-content" type="text" placeholder="请输入公司地址" />
        </dd>
      </dl>
      <dl>
        <dt>联系人:</dt>
        <dd>
          <input class="dd-content" type="text" placeholder="请输入联系人" />
        </dd>
      </dl>
      <dl>
        <dt>联系电话:</dt>
        <dd>
          <input class="dd-content" type="text" placeholder="请输入联系电话" />
        </dd>
      </dl>
      <dl>
        <dt>账户金额:</dt>
        <dd>
          <input class="dd-content" type="text" value="2.00元" disabled/>
          <font class="color-tip ml-10">账户上的余额</font>
        </dd>
      </dl>
      <dl>
        <dt>注册人:</dt>
        <dd>
          <input class="dd-content" type="text" value="张小花" disabled/>
        </dd>
      </dl>
      <dl>
        <dt>注册时间:</dt>
        <dd>
          <input class="dd-content" type="text" value="2019-12-01 12:01:12" disabled/>
        </dd>
      </dl>
    </div>
    <!--endregion-->

    <!--region 功能配置-->
    <div id="dl_config">
      <dl>
        <dt>收入支出账单仅录入员可编辑:</dt>
        <dd class="padding: 6px 0 6px 10px;">
          <label class="fe-switch">
            <input type="checkbox" id="switch_1" class="cbx">
            <label for="switch_1" class="lbl"></label>
          </label>
          <span class="color-tip display-align">选否时同公司具有编辑权限的人员均可编辑</span>
        </dd>
      </dl>
      <dl>
        <dt>应收/应付款仅录入员可编辑:</dt>
        <dd class="padding: 6px 0 6px 10px;">
          <label class="fe-switch">
            <input type="checkbox" id="switch_2" class="cbx">
            <label for="switch_2" class="lbl"></label>
          </label>
          <span class="color-tip display-align">选否时同公司具有编辑权限的人员均可编辑</span>
        </dd>
      </dl>
      <dl>
        <dt>计划任务仅录入员可编辑:</dt>
        <dd class="padding: 6px 0 6px 10px;">
          <label class="fe-switch">
            <input type="checkbox" id="switch_3" class="cbx">
            <label for="switch_3" class="lbl"></label>
          </label>
          <span class="color-tip display-align">选否时同公司具有编辑权限的人员均可编辑</span>
        </dd>
      </dl>
      <dl>
        <dt>计划任务仅录入员可编辑:</dt>
        <dd class="padding: 6px 0 6px 10px;">
          <label class="fe-switch">
            <input type="checkbox" id="switch_4" class="cbx">
            <label for="switch_4" class="lbl"></label>
          </label>
          <span class="color-tip display-align">(模块包括客户管理/员工管理/资产管理)选否时同公司具有编辑权限的人员均可编辑</span>
        </dd>
      </dl>
    </div>
    <!--endregion-->
  </div>
  <div class="right-row-foot">
    <button class="febtn-default" type="button" onclick="submitForm()">提交保存</button>
  </div>
</form>
</body>
<script type="text/javascript" charset="utf-8" src="../../static/lib/jquery/jquery-3.2.1.min.js"></script>
<script type="text/javascript" charset="utf-8" src="../../static/lib/layer/layer.js"></script>
<script type="text/javascript" charset="utf-8" src="../../static/js/publicObj.js"></script>
<script type="text/javascript">
  publicObj.getIframeMenuHtml('system', 'company_manage')//获取左侧菜单
  /**region tab切换*/
  var tabId = 'basic';
  changeTab(tabId);
  function changeTab(tid) {
    tabId = tid
    $('.fe-tab li').removeClass('active')
    $('#tabli-' + tabId).addClass('active')
    switch (tid) {
      case "basic": //基本资料
        $('#dl_basic').show()
        $('#dl_config').hide()
        break;
      case "config": //系统配置
        $('#dl_basic').hide()
        $('#dl_config').show()
        break;
      default:
        break;
    }
  }
  /**endregion*/

  /**region 公司logo*/
  isLogo()
  function isLogo() {
    var company_logo = $('input[name="company_logo"]').val()
    if (company_logo === '') {
      $('#company_logo .file-add').show()
      $('#company_logo .file-img').hide()
    } else {
      $('#company_logo .file-img').show()
      $('#company_logo .file-add').hide()
    }
  }
  function uploadCompanyLogo(el) {
    publicObj.uploadFile({
      el: el,
    }, function (img) {
      console.log(img)
      isLogo()
    })
  }
  /**endregion*/

  /**region 表单验证*/
  function submitForm() {
    if (tabId === 'basic') {
      var verifyArr = [{ key: 'company_name', verify_type: 'required', error_text: '请输入公司名称'}]
      if (!publicObj.verifyForm(verifyArr)) return false
    }
    //$('form').submit()
    publicObj.layerMsg('操作成功', 1)
  }
  /**endregion*/
</script>
</html>
